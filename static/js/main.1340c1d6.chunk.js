(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/sprout-logo.512d9f3b.svg"},23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),s=a.n(r),i=a(5),l=a(6),c=a(8),u=a(7),d=a(9),h=(a(28),a(2)),m=a(19),b=a.n(m),f=a(21),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={shown:!1},e.setIsShown=e.setIsShown.bind(Object(h.a)(Object(h.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setIsShown",value:function(e){this.setState({shown:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"list-books-title"},o.a.createElement("div",{className:"nav-container"},o.a.createElement("div",{className:"nav-title"},o.a.createElement("h1",null,"Book Sprout"),o.a.createElement("p",{className:"nav-subtitle"},"Grow your knowledge")),o.a.createElement("div",{className:"sprout-logo"},o.a.createElement("img",{src:b.a,alt:"sprout logo"})),o.a.createElement("div",{className:"question-icon-container"},o.a.createElement(f.a,{onMouseEnter:function(){return e.setIsShown(!0)},onMouseLeave:function(){return e.setIsShown(!1)},className:"question-icon"}),this.state.shown&&o.a.createElement("div",{className:"tool-tip"},o.a.createElement("span",null,"Book Sprout")," is a branded component grown on the Udacity MyReads API. To nourish your reading list, use the search page for a list of searchable terms."))))}}]),t}(n.Component),p=a(22),v=function(e){var t=e.title.toLowerCase().split(" ").join(""),a=e.booksMap.filter(function(e){return e.props.shelf.toLowerCase()===t});return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},e.title),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},0===a.length?"Add a book to this shelf":a)))},E=function(e){return o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:e.shelf,onChange:function(t){e.bookListHandler(e.id),e.bookShelfHandler(t.target.value,e.id),function(e,t){var a={method:"PUT",headers:{Authorization:"JimmyAllDayWantsBooksData","Content-Type":"application/json"},body:JSON.stringify({shelf:e})};fetch("https://reactnd-books-api.udacity.com/books/".concat(t),a).catch(function(e){console.error("Error:",e)})}(t.target.value,e.id)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))},g=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.image,a=e.title,n=e.authors;return o.a.createElement("li",null,o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(t,'")')}}),o.a.createElement(E,{shelf:this.props.shelf,id:this.props.id,bookShelfHandler:this.props.bookShelfHandler,bookListHandler:this.props.bookListHandler})),o.a.createElement("div",{className:"book-title"},a),o.a.createElement("div",{className:"book-authors"},n)))}}]),t}(n.Component),y=a(10),S=function(e){return o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},e.foundBooks))},j=["Android","Art","Artificial Intelligence","Astronomy","Austen","Baseball","Basketball","Bhagat","Biography","Brief","Business","Camus","Cervantes","Christie","Classics","Comics","Cook","Cricket","Cycling","Desai","Design","Development","Digital Marketing","Drama","Drawing","Dumas","Education","Everything","Fantasy","Film","Finance","First","Fitness","Football","Future","Games","Gandhi","Homer","Horror","Hugo","Ibsen","Javascript","Journey","Kafka","King","Lahiri","Larsson","Learn","Literary Fiction","Make","Manage","Marquez","Money","Mystery","Negotiate","Painting","Philosophy","Photography","Poetry","Production","Programming","React","Redux","River","Robotics","Rowling","Satire","Science Fiction","Shakespeare","Singh","Swimming","Tale","Thrun","Time","Tolstoy","Travel","Ultimate","Virtual Reality","Web Development","iOS"];var O=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(y.b,{to:"/"},o.a.createElement("button",{className:"close-search"},"Close")),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"search",placeholder:"Enter search term",list:"search-terms",onChange:function(t){e.getBooks(t.target.value)}}),o.a.createElement("datalist",{id:"search-terms"},j.map(function(e,t){return o.a.createElement("option",{key:t},e)}))))),o.a.createElement(S,{bookShelfHandler:e.bookShelfHandler,bookListHandler:e.bookListHandler,foundBooks:e.foundBooks}))},N=function(){return o.a.createElement("div",{className:"open-search"},o.a.createElement(y.b,{to:"/search"},o.a.createElement("button",null,"Add a book")))},B=a(1),H=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).validateSearch=function(t){t.trim(),""!==t&&e.setState(function(){return{search:t}})},e.getBooks=function(t){var a=e.state.foundBooks.splice(0,e.state.foundBooks.length),n=function(){e.setState({noBooks:a})},o={method:"POST",headers:{Authorization:e.authHeader,"Content-Type":"application/json"},body:JSON.stringify({query:t,maxResults:20})};""!==t&&fetch("".concat(e.initURL,"/search"),o).then(function(e){return e.json()}).then(function(t){t.error||t.books.error||t.books===[]?n():function(t){var a=function(e,t){return e.filter(function(e){return!t.find(function(t){return t.id===e.id})})},n=a(t,e.state.books),o=a(e.state.books,t),r=a(n.concat(e.state.books),o);e.setState(function(){return{foundBooks:r}})}(t.books)}).catch(null),""===t&&n()},e.bookListHandler=function(t){var a=null;e.state.foundBooks.forEach(function(n){n.id===t&&(a=e.state.foundBooks.indexOf(n))});var n=e.state.foundBooks.splice(a,1),o=function(e,t){var a=[];if(t.length>0){var n=t[0].id;e.forEach(function(t,o){return n===t.id?e.splice(o,-1):a.push(t)})}else e.forEach(function(e){a.push(e)});return a.concat(t)}(e.state.books,n);e.setState({books:o})},e.state={books:[],search:"",foundBooks:[]},e.initURL="https://reactnd-books-api.udacity.com",e.authHeader="JimmyAllDayWantsBooksData",e.options={headers:{Authorization:e.authHeader}},e.getBooks=e.getBooks.bind(Object(h.a)(Object(h.a)(e))),e.bookShelfHandler=e.bookShelfHandler.bind(Object(h.a)(Object(h.a)(e))),e.bookListHandler=e.bookListHandler.bind(Object(h.a)(Object(h.a)(e))),e.validateSearch=e.validateSearch.bind(Object(h.a)(Object(h.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(this.initURL,"/books"),this.options).then(function(e){return e.json()}).then(function(t){e.setState(function(){return{books:t.books}})})}},{key:"bookShelfHandler",value:function(e,t){this.setState(function(a){return{books:a.books.map(function(a){return a.id===t?Object(p.a)({},a,{shelf:e}):a})}})}},{key:"render",value:function(){var e=this,t=function(t){return t.map(function(t){return o.a.createElement(g,{key:t.id,id:t.id,image:t.imageLinks?t.imageLinks.smallThumbnail:null,title:t.title,authors:t.authors,shelf:t.shelf?t.shelf:"none",bookShelfHandler:e.bookShelfHandler,bookListHandler:e.bookListHandler})})},a=["Want to Read","Currently Reading","Read"];return o.a.createElement("div",{className:"bookshelf"},o.a.createElement(B.a,{exact:!0,path:"/",render:function(){return o.a.createElement("div",{className:"list-books-content"},(n=t(e.state.books),a.map(function(e){return o.a.createElement(v,{key:e,booksMap:n,title:e})})),o.a.createElement(N,null));var n}}),o.a.createElement(B.a,{path:"/search",render:function(){return o.a.createElement(O,{bookShelfHandler:e.bookShelfHandler,bookListHandler:e.bookListHandler,foundBooks:t(e.state.foundBooks),getBooks:e.getBooks})}}))}}]),t}(n.Component),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"list-books"},o.a.createElement(k,null),o.a.createElement(H,null)))}}]),t}(o.a.Component);a(36);s.a.render(o.a.createElement(y.a,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.1340c1d6.chunk.js.map